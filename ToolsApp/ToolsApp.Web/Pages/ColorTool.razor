@page "/color-tool"
@using ToolsApp.Core.Interfaces.Data

@inject IColorsData colorsInMemoryData

<ToolHeader HeaderText="@colorToolHeader"></ToolHeader>
<ColorList Colors="@colors" OnDeleteColor="@DeleteColor" />
<ColorForm ButtonText="Add Color" OnSubmitColor="@AddColor" />

@*@if (true) {
  <div>@(1 + 3)</div>
}*@

@code {

  private string colorToolHeader = "Color Tool";

  private IEnumerable<IColor> colors { get; set; } = new List<IColor>();

  protected override async Task OnInitializedAsync()
  {
    colors = await colorsInMemoryData.All();
  }

  public async Task AddColor(INewColor newColor)
  {
    await colorsInMemoryData.Append(newColor);
    colors = await colorsInMemoryData.All();
  }

  public async Task DeleteColor(int colorId)
  {
    await colorsInMemoryData.Remove(colorId);
    colors = await colorsInMemoryData.All();
  }



}
